<div class="container-fluid">

  <div *ngIf="currentUser == null">
    <div class="container-design">
      <div class="row">

        <div class="col-sm-4">

          <div class="thumbnail" *ngFor="let imageCourse of courses?.imageCourses">
            <div class="crop">
              <div align="center">
                <img class="img" src="{{'http://localhost:8080/displayImage/' + imageCourse.id}}" alt="Image"/>
              </div>
            </div>
          </div>

          <div class="panel panel-default br">
            <div class="panel-heading">เกี่ยวกับคอร์สนี้</div>
            <div class="panel-body"><span> <p class="glyphicon glyphicon-calendar"></p></span> เรียนคอร์สนี้ได้อีก
              30
              วัน
            </div>
            <div class="panel-body"><span> <p class="glyphicon glyphicon-facetime-video"></p></span> วิดีโอความยาว
              1
              ชั่วโมง 15 นาที
            </div>
          </div>

          <div class="panel panel-default br">
            <div class="panel-heading">เกี่ยวกับผู้สอน</div>
            <div class="media-body">
              <div *ngFor="let user of users">
                <div *ngIf="user.id == courses.userId" style="margin-left: 7px">
                  {{user.firstName}} {{user.lastName}}
                </div>
              </div>
            </div>
          </div>

          <div class="brr panel panel-default">
            <h4>คอร์สอื่นๆที่คุณอาจสนใจ</h4>
            <div class="media br">
              <div class="media-body">
                <h4 class="media-heading font-design">คอร์สต่างๆ</h4>
                <p class="font-design"></p>
              </div>
            </div>
          </div>

        </div>

        <div class="col-sm-8">
          <div class="panel panel-default">
            <div class="panel-heading">Course Name: {{courses.name}}</div>
            <div class="panel-body">Course Description: {{courses.description}}</div>
            <button type="button" class="btn btn-primary" (click)="buyCourseNull()">ซื้อคอร์สเรียน
            </button>
          </div>

          <div class="panel panel-default">
            <body data-spy="scroll" data-target=".navbar" data-offset="50">

            <div class="container-fluid">
              <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand">คอร์สเรียน</a>
              </div>
              <div>
                <div class="collapse navbar-collapse" id="myNavbar">
                  <ul class="nav navbar-nav">
                    <li><a>เอกสารประกอบ</a></li>
                    <li><a>ถามตอบ</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="container-fluid">
              <div>
                <table class="table">
                  <thead>
                  <tr>
                    <th></th>
                    <th></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let course of courses?.courseItems">
                    <td>
                      <div class="container-fluid">
                        <div class="row col-sm-12">
                          <!-- Trigger the modal with a text -->
                          <a type="text" data-toggle="modal"
                             [attr.data-target]="'#myModal' + course.id" style="cursor: pointer">
                              <span *ngIf="course.courseType == video"
                                    class="glyphicon glyphicon-facetime-video"></span>
                            <span *ngIf="course.courseType == image" class="glyphicon glyphicon-picture"></span>
                            {{course.name}}
                            <!--{{course.videoClips[0]?.id}}-->
                            <!--{{course.imageItems[0]?.id}}-->
                            <!--{{course.imageItems[0]?.id}}-->
                          </a>

                          <!-- Modal -->
                          <div class="modal fade" [id]="'myModal' + course.id" role="dialog"
                               *ngIf="course.canPreview == truePreview">
                            <div class="modal-dialog">
                              <!-- Modal content-->
                              <div class="modal-content">
                                <div class="modal-header">
                                  <!--<button type="button" class="close" data-dismiss="modal"><span-->
                                  <!--aria-hidden="true">×</span>-->
                                  <!--</button>-->
                                </div>
                                <div align="center" class="video-responsive">
                                  <br>
                                  <img class="img" *ngIf="course.courseType == image"
                                       src="{{'http://localhost:8080/displayImageItem/' + course.imageItems[0]?.id}}"/>
                                  <br>
                                  <video width="520" height="350" controls [hidden]="course.courseType == image">
                                    <source *ngIf="course.courseType == video"
                                            src="{{'http://localhost:8080/playVideo/' + course.videoClips[0]?.id}}"
                                            type="video/mp4">
                                  </video>
                                </div>
                                <div class="modal-footer">
                                  <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                                </div>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </td>
                    <td>
                      <span *ngIf="course.canPreview != truePreview" class="glyphicon glyphicon-lock"></span>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>

            </body>
          </div>

        </div>

      </div>
    </div>
  </div>
  <div *ngIf="currentUser != null">
    <div *ngFor="let user of users">
      <div *ngIf="user.id == currentUser.id">
        <div>
          <div class="container-design">
            <div class="row">

              <div class="col-sm-4">

                <div class="thumbnail" *ngFor="let imageCourse of courses?.imageCourses">
                  <div class="crop">
                    <div align="center">
                      <img class="img" src="{{'http://localhost:8080/displayImage/' + imageCourse.id}}" alt="Image"/>
                    </div>
                  </div>
                </div>

                <div class="panel panel-default br">
                  <div class="panel-heading">เกี่ยวกับคอร์สนี้</div>
                  <div class="panel-body"><span> <p class="glyphicon glyphicon-calendar"></p></span> เรียนคอร์สนี้ได้อีก
                    30
                    วัน
                  </div>
                  <div class="panel-body"><span> <p class="glyphicon glyphicon-facetime-video"></p></span> วิดีโอความยาว
                    1
                    ชั่วโมง 15 นาที
                  </div>
                </div>

                <div class="panel panel-default br">
                  <div class="panel-heading">เกี่ยวกับผู้สอน</div>
                  <div class="media-body">
                    <div *ngFor="let user of users">
                      <div *ngIf="user.id == courses.userId" style="margin-left: 7px">
                        <a style="cursor: pointer" (click)="TeacherHistory(user.email)"> {{user.firstName}} {{user.lastName}} </a>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="panel panel-default br">
                  <div class="panel-heading">คอร์สอื่นๆที่คุณอาจสนใจ</div>
                  <div class="media-body">
                    <h4 class="media-heading font-design">คอร์สต่างๆ</h4>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                  </div>
                </div>

              </div>
              <div class="col-sm-8">

                <!--<div *ngFor="let userCourse of user?.courses">-->
                <!--<div *ngIf="userCourse.id != courses.id">-->
                <div>
                  <div class="panel panel-default">
                    <div class="panel-heading">Course Name: {{courses.name}}</div>
                    <div class="panel-body">Course Description: {{courses.description}}</div>
                    <!--<div *ngFor="let userCourse of user?.courses">-->
                    <!--<div *ngIf="userCourse.id == courses.id">-->
                    <!--{{userCourse.id}}-->
                    <!--{{courses.id}}-->
                    <!--</div>-->
                    <!--</div>-->
                    <div [hidden]="user.status != active">
                      <button type="button" class="btn btn-primary"
                              (click)="buyCourse(courses.id, user.balance, currentUser.id)">
                        ซื้อคอร์สเรียน
                      </button>
                    </div>
                  </div>
                  <div class="panel panel-default">
                    <body data-spy="scroll" data-target=".navbar" data-offset="50">

                    <div class="container-fluid">
                      <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                          <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand">คอร์สเรียน</a>
                      </div>
                      <div>
                        <div class="collapse navbar-collapse">
                          <ul class="nav navbar-nav">
                            <li><a>เอกสารประกอบ</a></li>
                            <li><a>ถามตอบ</a></li>
                          </ul>
                        </div>
                      </div>
                    </div>

                    <div class="container-fluid">
                      <div>
                        <table class="table">
                          <thead>
                          <tr>
                            <th></th>
                            <th></th>
                          </tr>
                          </thead>
                          <tbody *ngFor="let course of courses?.courseItems">
                          <tr>

                            <td>
                              <div class="container-fluid">
                                <div class="row col-sm-12">

                                  <a type="text" data-toggle="modal"
                                     [attr.data-target]="'#myModal' + course.id" style="cursor: pointer">
                              <span *ngIf="course.courseType == video"
                                    class="glyphicon glyphicon-facetime-video"></span>
                                    <span *ngIf="course.courseType == image"
                                          class="glyphicon glyphicon-picture"></span>
                                    {{course.name}}
                                    <!--{{course.videoClips[0]?.id}}-->
                                    <!--{{course.imageItems[0]?.id}}-->
                                    <!--{{course.imageItems[0]?.id}}-->
                                  </a>

                                  <!-- Modal -->
                                  <div *ngFor="let userCourse of user?.courses">
                                    <div *ngIf="userCourse.id == courses.id">
                                      <div class="modal fade" [id]="'myModal' + course.id" role="dialog">
                                        <div class="modal-dialog">
                                          <!-- Modal content-->
                                          <div class="modal-content">
                                            <!--<div class="modal-header">-->
                                            <!--&lt;!&ndash;<button type="button" class="close" data-dismiss="modal"><span&ndash;&gt;-->
                                            <!--&lt;!&ndash;aria-hidden="true">×</span>&ndash;&gt;-->
                                            <!--&lt;!&ndash;</button>&ndash;&gt;-->
                                            <!--</div>-->
                                            <div align="center" class="video-responsive">
                                              <br>
                                              <img class="img" *ngIf="course.courseType == image"
                                                   src="{{'http://localhost:8080/displayImageItem/' + course.imageItems[0]?.id}}"/>
                                              <br>
                                              <video width="500" height="360" controls
                                                     [hidden]="course.courseType == image">
                                                <source *ngIf="course.courseType == video"
                                                        src="{{'http://localhost:8080/playVideo/' + course.videoClips[0]?.id}}"
                                                        type="video/mp4">
                                              </video>
                                            </div>
                                            <div class="modal-footer">
                                              <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                </div>
                              </div>
                            </td>

                            <td>
                              <span class="glyphicon glyphicon-lock"></span>
                            </td>

                          </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>

                    </body>
                  </div>
                </div>
                <!--</div>-->
                <!--</div>-->

              </div>

            </div>
          </div>

        </div>
      </div>

    </div>
  </div>

</div>
<app-footer></app-footer>
